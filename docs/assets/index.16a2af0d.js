const S=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const c of n)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function s(n){const c={};return n.integrity&&(c.integrity=n.integrity),n.referrerpolicy&&(c.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?c.credentials="include":n.crossorigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(n){if(n.ep)return;n.ep=!0;const c=s(n);fetch(n.href,c)}};S();const k=document.querySelector("canvas"),r=k.getContext("2d"),v=document.getElementById("startButton"),b=document.getElementById("lose"),P=document.getElementById("tie"),y=k.width,a=k.width/3,f="x",l="o";let T=[["","",""],["",l,""],["","",""]];function M(){r.lineCap="round",r.font="64px Segoe UI, Arial, sans-serif",I()}function B(e,t){switch(!0){case(e==0&&t==0):return 1;case(e==0&&t==1):return 2;case(e==0&&t==2):return 3;case(e==1&&t==2):return 4;case(e==2&&t==2):return 5;case(e==2&&t==1):return 6;case(e==2&&t==0):return 7;case(e==1&&t==0):return 8;case(e==1&&t==1):return 9}}function L(e){switch(e){case 1:return[0,0];case 2:return[0,1];case 3:return[0,2];case 4:return[1,2];case 5:return[2,2];case 6:return[2,1];case 7:return[2,0];case 8:return[1,0];case 9:return[1,1]}}function i(e,t){const[s,o]=L(e);T[s][o]=t,I()}function u(e){return e-8*Math.floor((e-1)/8)}function I(){r.clearRect(0,0,y,y),r.beginPath(),r.rect(1,1,y-2,y-2),r.stroke();for(let e=0;e<3;e++)for(let t=0;t<3;t++){const s=e*a,o=t*a;switch(r.beginPath(),r.rect(s,o,a,a),r.stroke(),r.lineWidth=10,T[t][e]){case f:r.strokeStyle="green",r.beginPath(),r.moveTo(s+a*.2,o+a*.2),r.lineTo(s+a*.8,o+a*.8),r.moveTo(s+a*.8,o+a*.2),r.lineTo(s+a*.2,o+a*.8),r.stroke();break;case l:r.strokeStyle="red",r.beginPath(),r.arc(s+a/2,o+a/2,34,0,Math.PI*2),r.stroke();break;default:r.fillText(B(t,e),s+33,o+74)}r.lineWidth=1,r.strokeStyle="black"}}async function p(e=!0){return new Promise(t=>{setTimeout(()=>{e?(b.style.display="block",P.style.display="none"):(b.style.display="none",P.style.display="block"),t(!0)},500)})}async function m(){return new Promise(e=>{setTimeout(()=>{e(parseInt(prompt("Masukkan spot yang kosong")))},500)})}v.onclick=async e=>{T=[["","",""],["","",""],["","",""]],b.style.display="none",P.style.display="none";let t,s,o,n,c,d,g,h,w;t=9,i(t,l),d=await m(),i(d,f),v.textContent="Mulai Ulang",s=u(d+1),i(s,l),g=await m(),i(g,f),g==u(s+4)?(o=u(s+2),i(o,l),h=await m(),i(h,f),h==u(o+4)?d%2!=0?(n=u(o+3),i(n,l),w=await m(),i(w,f),w==u(n+4)?(c=u(n+6),i(c,l),await p(!1)):(c=u(n+4),i(c,l),await p())):(n=u(o+7),i(n,l),await p()):(n=u(o+4),i(n,l),await p())):(o=u(s+4),i(o,l),await p())};M();
